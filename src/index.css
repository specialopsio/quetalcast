@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 220 20% 7%;
    --foreground: 210 15% 88%;
    --card: 220 18% 10%;
    --card-foreground: 210 15% 88%;
    --popover: 220 18% 12%;
    --popover-foreground: 210 15% 88%;
    --primary: 142 60% 45%;
    --primary-foreground: 150 30% 5%;
    --secondary: 220 15% 16%;
    --secondary-foreground: 210 15% 80%;
    --muted: 220 12% 18%;
    --muted-foreground: 215 10% 55%;
    --accent: 38 85% 55%;
    --accent-foreground: 38 85% 8%;
    --destructive: 0 70% 50%;
    --destructive-foreground: 0 0% 98%;
    --border: 220 15% 18%;
    --input: 220 15% 14%;
    --ring: 142 60% 45%;
    --radius: 0.375rem;

    --sidebar-background: 220 20% 7%;
    --sidebar-foreground: 210 15% 88%;
    --sidebar-primary: 142 60% 45%;
    --sidebar-primary-foreground: 150 30% 5%;
    --sidebar-accent: 220 12% 18%;
    --sidebar-accent-foreground: 210 15% 88%;
    --sidebar-border: 220 15% 18%;
    --sidebar-ring: 142 60% 45%;

    /* Custom semantic tokens */
    --on-air: 142 60% 45%;
    --on-air-glow: 142 60% 45% / 0.25;
    --warning: 38 85% 55%;
    --clip: 0 70% 50%;
    --meter-green: 142 60% 50%;
    --meter-yellow: 48 90% 55%;
    --meter-red: 0 75% 50%;
    --panel-bg: 220 18% 9%;
    --panel-border: 220 15% 15%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-family: 'Space Grotesk', system-ui, sans-serif;
  }

  button,
  a,
  select,
  [role="button"],
  [role="option"],
  [role="menuitem"],
  [role="tab"],
  [role="checkbox"],
  [role="radio"],
  [role="switch"],
  [role="combobox"],
  [role="listbox"],
  label[for],
  input[type="checkbox"],
  input[type="radio"],
  input[type="submit"],
  input[type="button"],
  summary {
    cursor: pointer;
  }

  code, .font-mono {
    font-family: 'JetBrains Mono', ui-monospace, monospace;
  }
}

@layer components {
  .meter-segment {
    @apply rounded-sm transition-all duration-75;
  }

  .meter-segment-active-green {
    background-color: hsl(var(--meter-green));
    box-shadow: 0 0 4px hsl(var(--meter-green) / 0.5);
  }

  .meter-segment-active-yellow {
    background-color: hsl(var(--meter-yellow));
    box-shadow: 0 0 4px hsl(var(--meter-yellow) / 0.5);
  }

  .meter-segment-active-red {
    background-color: hsl(var(--meter-red));
    box-shadow: 0 0 6px hsl(var(--meter-red) / 0.6);
  }

  .status-badge {
    @apply px-3 py-1 rounded-full text-xs font-mono font-semibold uppercase tracking-wider;
  }

  .status-offline {
    @apply bg-muted text-muted-foreground;
  }

  .status-connecting {
    @apply text-accent-foreground;
    background-color: hsl(var(--warning) / 0.2);
    color: hsl(var(--warning));
  }

  .status-on-air {
    @apply text-primary-foreground;
    background-color: hsl(var(--on-air) / 0.2);
    color: hsl(var(--on-air));
    animation: pulse-glow 2s ease-in-out infinite;
  }

  .status-receiving {
    @apply text-primary-foreground;
    background-color: hsl(var(--on-air) / 0.15);
    color: hsl(var(--on-air));
  }

  .status-error {
    @apply text-destructive-foreground;
    background-color: hsl(var(--clip) / 0.2);
    color: hsl(var(--clip));
  }

  .panel {
    background-color: hsl(var(--panel-bg));
    border: 1px solid hsl(var(--panel-border));
    @apply rounded-md p-4;
  }

  .panel-header {
    @apply text-xs font-mono uppercase tracking-widest text-muted-foreground mb-3;
  }

  .stat-value {
    @apply text-lg font-mono font-semibold text-foreground tabular-nums;
  }

  .stat-label {
    @apply text-[10px] font-mono uppercase tracking-wider text-muted-foreground;
  }

  .event-log {
    @apply font-mono text-xs leading-relaxed;
  }

  .event-log-entry {
    @apply py-0.5 border-b border-border/30;
  }

  .event-log-time {
    @apply text-muted-foreground mr-2;
  }

  .glow-ring {
    box-shadow: 0 0 0 2px hsl(var(--on-air) / 0.3), 0 0 20px hsl(var(--on-air) / 0.15);
  }
}

@keyframes pulse-glow {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}
